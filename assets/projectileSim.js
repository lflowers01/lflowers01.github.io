import"./modulepreload-polyfill-B5Qt9EMX.js";const _=9.81,c=15;let r,l,u,d,y;const X=t=>{class m{constructor(i,s,o,a,g){this.x=i,this.y=s,this.vx=o,this.vy=a,this.color=g}update(){t.push(),t.stroke(this.color),t.strokeWeight(2),t.line(this.x,this.y,this.x+this.vx,this.y+this.vy),t.pop()}}class f{constructor(i,s,o,a){this.x=i,this.y=s,this.angle=o,this.force=a,this.ray=new m(this.x,this.y,Math.cos(this.angle)*this.force,Math.sin(this.angle)*this.force,"yellow"),this.dragging=!1,this.dragX=this.x+Math.cos(this.angle)*this.force*10,this.dragY=this.y+Math.sin(this.angle)*this.force*10,this.old_angle=this.angle}update(i){this.x=i.x+Math.cos(this.angle),this.y=i.y+10+Math.sin(this.angle),this.dragging?(this.angle=Math.atan2(this.dragY-this.y,this.dragX-this.x),this.force=t.dist(this.x,this.y,this.dragX,this.dragY)/c):(this.dragX=this.x+Math.cos(this.angle)*this.force*c,this.dragY=this.y+Math.sin(this.angle)*this.force*c),this.angle*(180/-Math.PI)>90?this.angle=90*(-Math.PI/180):this.angle*(180/-Math.PI)<-90?this.angle=-90*(-Math.PI/180):this.old_angle=this.angle,this.dragX<0&&(this.dragX=0),this.dragX>t.width&&(this.dragX=t.width),this.dragY<0&&(this.dragY=0),this.dragY>t.height&&(this.dragY=t.height),this.ray.vx=Math.cos(this.angle)*this.force*c,this.ray.vy=Math.sin(this.angle)*this.force*c,this.ray.x=this.x,this.ray.y=this.y,this.ray.update(),t.fill(255),t.stroke(0),t.strokeWeight(1),t.ellipse(this.dragX,this.dragY,10)}isMouseOver(){return t.dist(t.mouseX,t.mouseY,this.dragX,this.dragY)<10}}class v{constructor(i,s,o,a,g){this.x=i,this.y=s,this.startX=i,this.initialVel=a/g*10,this.initialForce=a,this.x_velocity=Math.cos(o)*this.initialVel,this.y_velocity=Math.sin(o)*-this.initialVel,this.radius=g,this.initialAngle=o,this.mass=g,this.trajectory=[],t.colorMode(t.HSB,360,100,100),this.color=t.color(t.random(360),100,100),t.colorMode(t.RGB,255,255,255),this.x_component=new m(this.x,this.y,this.x_velocity/c,0,"green"),this.y_component=new m(this.x,this.y,0,-this.y_velocity/c,"blue"),this.trajectory=[]}update(){const i=t.deltaTime/1e3;this.y_velocity-=_*i,this.x+=this.x_velocity*i*100,this.y-=this.y_velocity*i*100,this.y+this.radius>=t.height&&(this.y=t.height-this.radius,this.y_velocity=0,this.x_velocity=0),t.fill(this.color),t.noStroke(),t.ellipse(this.x,this.y,this.radius*2),this.x_component.x=this.x,this.x_component.y=this.y,this.x_component.vx=this.x_velocity*5,this.x_component.vy=0,this.x_component.update(),this.y_component.x=this.x,this.y_component.y=this.y,this.y_component.vx=0,this.y_component.vy=-this.y_velocity*5,this.y_component.update(),this.trajectory.push({x:this.x,y:this.y}),t.stroke(255),t.strokeWeight(1);for(let s=1;s<this.trajectory.length;s++){const o=this.trajectory[s-1],a=this.trajectory[s];t.line(o.x,o.y,a.x,a.y)}if(t.dist(t.mouseX,t.mouseY,this.x,this.y)<this.radius){const s=Math.abs(this.x-this.startX);t.fill(0),t.textSize(12),t.text(`Δx: ${(s/10).toFixed(2)} m
Initial Force: ${this.initialForce.toFixed(1)} N
Launch Angle: ${(this.initialAngle*(180/-Math.PI)).toFixed(1)}°
Mass: ${this.mass.toFixed(1)} kg
Initial Velocity: ${this.initialVel.toFixed(1)} m/s`,this.x-50,this.y-this.radius-50)}}isOffScreen(){return this.x<0||this.x>t.width}}class M{constructor(i,s,o,a){this.x=i,this.y=s,this.angle=o,this.launch=a}update(){t.push(),t.translate(this.x,this.y+10),t.rotate(this.angle),t.fill(50),t.noStroke(),t.rect(0,-10,50,20),t.pop(),e.update(this)}}let n=[],x=new M(25,500,0,0),e=new f(25,500,0,10);t.setup=()=>{t.createCanvas(800,600).parent("simulation-container"),t.background(220),r=t.createSlider(50,t.height-15,(t.height-15)*.75,10),r.position(10,40),r.style("width","200px"),r.parent("simulation-container");const i=t.createDiv("Launch Height");i.position(220,35),i.parent("simulation-container"),l=t.createSlider(5,20,10,1),l.position(10,70),l.style("width","200px"),l.parent("simulation-container");const s=t.createDiv("Mass");s.position(220,65),s.parent("simulation-container"),u=t.createButton("Clear"),u.position(10,100),u.mousePressed(()=>{n=[]}),u.parent("simulation-container"),d=t.createDiv(`Height: ${r.value()/10} m`),d.position(350,35),d.parent("simulation-container"),y=t.createDiv(`Mass: ${l.value()} kg`),y.position(350,65),y.parent("simulation-container")},t.draw=()=>{t.background(200),d.html(`${(t.height-r.value())/10} m`),y.html(`${l.value()} kg`),t.fill(0),t.textSize(16),t.text(`Force: ${e.force.toFixed(1)} N`,t.width-200,20),t.text(`Angle: ${(e.angle*(180/-Math.PI)).toFixed(0)}°`,t.width-200,40),x.y=r.value(),x.angle=e.angle;for(let h=0;h<n.length;h++)n[h].update(),n[h].isOffScreen()&&n.splice(h,1);x.update()},t.mousePressed=()=>{if(!(t.mouseX<0||t.mouseX>t.width||t.mouseY<0||t.mouseY>t.height)&&!(u.elt.contains(document.elementFromPoint(t.mouseX,t.mouseY))||r.elt.contains(document.elementFromPoint(t.mouseX,t.mouseY))||l.elt.contains(document.elementFromPoint(t.mouseX,t.mouseY))))if(e.isMouseOver())e.dragging=!0;else{const h=e.force,i=l.value();n.length>=15&&n.shift(),n.push(new v(e.x,e.y,e.angle,h,i))}},t.mouseDragged=()=>{t.mouseX<0||t.mouseX>t.width||t.mouseY<0||t.mouseY>t.height||e.dragging&&(e.dragX=t.mouseX,e.dragY=t.mouseY)},t.mouseReleased=()=>{e.dragging=!1}};new p5(X);
