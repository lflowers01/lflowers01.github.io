import"./modulepreload-polyfill-B5Qt9EMX.js";import"./dark-mode-DgKG1Anf.js";document.addEventListener("DOMContentLoaded",async function(){console.log("DOM loaded");const c=document.getElementById("carousel"),d=document.querySelector(".prev"),g=document.querySelector(".next"),m=document.querySelector(".carousel-description"),h=document.querySelector(".carousel-counter"),u=document.querySelector(".image-carousel");let r=0,o=[];const p=async()=>{try{let e=null;const t=["/carousel-metadata.json","./carousel-metadata.json","../carousel-metadata.json"];for(const a of t)try{const n=await fetch(a);if(n.ok){e=await n.json(),console.log(`Loaded metadata from: ${a}`);break}}catch{}if(!e||!Array.isArray(e)||e.length===0){console.log("No carousel images found"),c.innerHTML='<p style="padding: 20px; text-align: center; color: gray;">No carousel images yet.</p>',o=[];return}c.innerHTML="",e.forEach((a,n)=>{const s=document.createElement("img");s.src=`./assets/carousel/${a.filename}`,s.alt=a.description,s.className="carousel-image",n===0&&s.classList.add("active"),s.loading=n===0?"eager":"lazy",c.appendChild(s)}),o=c.querySelectorAll(".carousel-image"),console.log(`Loaded ${o.length} carousel images`),f(),l(r)}catch(e){console.error("Error loading carousel metadata:",e),c.innerHTML='<p style="padding: 20px; text-align: center; color: red;">Error loading carousel images. Check console.</p>'}},f=()=>{const e=o.length;if(e===0)return;const t=200,a=150,n=Math.max(.8,Math.min(2,e/5)),s=t*n,y=a*n;o.forEach(i=>{i.style.width=s+"px",i.style.height=y+"px",i.style.objectFit="cover"}),u&&(u.style.width=s+"px")};function l(e){o.length!==0&&(o.forEach((t,a)=>{t.classList.remove("active"),a===e&&(t.classList.add("active"),m.textContent=t.alt)}),h.textContent=`${e+1}/${o.length}`)}d.addEventListener("click",()=>{o.length!==0&&(r=(r-1+o.length)%o.length,l(r))}),g.addEventListener("click",()=>{o.length!==0&&(r=(r+1)%o.length,l(r))}),c.addEventListener("click",e=>{if(e.target.classList.contains("carousel-image")){const t=e.target;t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullscreen?t.webkitRequestFullscreen():t.msRequestFullscreen&&t.msRequestFullscreen()}}),await p()});
